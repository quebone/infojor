<?php
namespace infojor\presentation\controller;

use infojor\presentation\model\UserViewModel;
use infojor\service\UserService;

class TeachersController extends Controller
{
	public function getTeachers()
	{
		$model = new UserViewModel();
		$data = $model->listAllTeachers();
		$userId = $_SESSION[USER_ID];
		return $model->removeTeacher($data, $userId);
	}
	
	public function editUser()
	{
		$this->setSession();
		// segons si l'usuari actiu és el mateix que el mestre, anem a una pàgina o una altra
		return $_SESSION[USER_ID] == $_SESSION[TEACHER_ID] ? 'userdata.php' : 'teacherdetails.php';
	}
	
	public function deleteUser()
	{
		$teacherId = $_POST[TEACHER_ID];
		$model = new UserService();
		return $model->deleteTeacher($teacherId);
	}
	
	public function addUser()
	{
		return "teacherdetails.php";
	}
}